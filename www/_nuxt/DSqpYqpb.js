var k=t=>{throw TypeError(t)};var R=(t,r,i)=>r.has(t)||k("Cannot "+i);var m=(t,r,i)=>(R(t,r,"read from private field"),i?i.call(t):r.get(t)),A=(t,r,i)=>r.has(t)?k("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(t):r.set(t,i);import{O as U,r as z,P as v,i as I,Q as D,R as N,C as B}from"./CI--yoU-.js";function C(t){return typeof t=="string"?`'${t}'`:new M().serialize(t)}const M=function(){var r;class t{constructor(){A(this,r,new Map)}compare(e,n){const o=typeof e,a=typeof n;return o==="string"&&a==="string"?e.localeCompare(n):o==="number"&&a==="number"?e-n:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(n,!0))}serialize(e,n){if(e===null)return"null";switch(typeof e){case"string":return n?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const n=Object.prototype.toString.call(e);if(n!=="[object Object]")return this.serializeBuiltInType(n.length<10?`unknown:${n}`:n.slice(8,-1),e);const o=e.constructor,a=o===Object||o===void 0?"":o.name;if(a!==""&&globalThis[a]===o)return this.serializeBuiltInType(a,e);if(typeof e.toJSON=="function"){const s=e.toJSON();return a+(s!==null&&typeof s=="object"?this.$object(s):`(${this.serialize(s)})`)}return this.serializeObjectEntries(a,Object.entries(e))}serializeBuiltInType(e,n){const o=this["$"+e];if(o)return o.call(this,n);if(typeof(n==null?void 0:n.entries)=="function")return this.serializeObjectEntries(e,n.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,n){const o=Array.from(n).sort((s,c)=>this.compare(s[0],c[0]));let a=`${e}{`;for(let s=0;s<o.length;s++){const[c,l]=o[s];a+=`${this.serialize(c,!0)}:${this.serialize(l)}`,s<o.length-1&&(a+=",")}return a+"}"}$object(e){let n=m(this,r).get(e);return n===void 0&&(m(this,r).set(e,`#${m(this,r).size}`),n=this.serializeObject(e),m(this,r).set(e,n)),n}$function(e){const n=Function.prototype.toString.call(e);return n.slice(-15)==="[native code] }"?`${e.name||""}()[native]`:`${e.name}(${e.length})${n.replace(/\s*\n\s*/g,"")}`}$Array(e){let n="[";for(let o=0;o<e.length;o++)n+=this.serialize(e[o]),o<e.length-1&&(n+=",");return n+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((n,o)=>this.compare(n,o)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}r=new WeakMap;for(const i of["Error","RegExp","URL"])t.prototype["$"+i]=function(e){return`${i}(${e})`};for(const i of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])t.prototype["$"+i]=function(e){return`${i}[${e.join(",")}]`};for(const i of["BigInt64Array","BigUint64Array"])t.prototype["$"+i]=function(e){return`${i}[${e.join("n,")}${e.length>0?"n":""}]`};return t}();function P(t,r){return t===r||C(t)===C(r)}function L(t,r){if(typeof t!="string")throw new TypeError("argument str must be a string");const i={},e=r||{},n=e.decode||F;let o=0;for(;o<t.length;){const a=t.indexOf("=",o);if(a===-1)break;let s=t.indexOf(";",o);if(s===-1)s=t.length;else if(s<a){o=t.lastIndexOf(";",a-1)+1;continue}const c=t.slice(o,a).trim();if(e!=null&&e.filter&&!(e!=null&&e.filter(c))){o=s+1;continue}if(i[c]===void 0){let l=t.slice(a+1,s).trim();l.codePointAt(0)===34&&(l=l.slice(1,-1)),i[c]=_(l,n)}o=s+1}return i}function F(t){return t.includes("%")?decodeURIComponent(t):t}function _(t,r){try{return r(t)}catch{return t}}const w=/^[\u0009\u0020-\u007E\u0080-\u00FF]+$/;function E(t,r,i){const e=i||{},n=e.encode||encodeURIComponent;if(typeof n!="function")throw new TypeError("option encode is invalid");if(!w.test(t))throw new TypeError("argument name is invalid");const o=n(r);if(o&&!w.test(o))throw new TypeError("argument val is invalid");let a=t+"="+o;if(e.maxAge!==void 0&&e.maxAge!==null){const s=e.maxAge-0;if(Number.isNaN(s)||!Number.isFinite(s))throw new TypeError("option maxAge is invalid");a+="; Max-Age="+Math.floor(s)}if(e.domain){if(!w.test(e.domain))throw new TypeError("option domain is invalid");a+="; Domain="+e.domain}if(e.path){if(!w.test(e.path))throw new TypeError("option path is invalid");a+="; Path="+e.path}if(e.expires){if(!J(e.expires)||Number.isNaN(e.expires.valueOf()))throw new TypeError("option expires is invalid");a+="; Expires="+e.expires.toUTCString()}if(e.httpOnly&&(a+="; HttpOnly"),e.secure&&(a+="; Secure"),e.priority)switch(typeof e.priority=="string"?e.priority.toLowerCase():e.priority){case"low":{a+="; Priority=Low";break}case"medium":{a+="; Priority=Medium";break}case"high":{a+="; Priority=High";break}default:throw new TypeError("option priority is invalid")}if(e.sameSite)switch(typeof e.sameSite=="string"?e.sameSite.toLowerCase():e.sameSite){case!0:{a+="; SameSite=Strict";break}case"lax":{a+="; SameSite=Lax";break}case"strict":{a+="; SameSite=Strict";break}case"none":{a+="; SameSite=None";break}default:throw new TypeError("option sameSite is invalid")}return e.partitioned&&(a+="; Partitioned"),a}function J(t){return Object.prototype.toString.call(t)==="[object Date]"||t instanceof Date}function f(t){if(typeof t!="object")return t;var r,i,e=Object.prototype.toString.call(t);if(e==="[object Object]"){if(t.constructor!==Object&&typeof t.constructor=="function"){i=new t.constructor;for(r in t)t.hasOwnProperty(r)&&i[r]!==t[r]&&(i[r]=f(t[r]))}else{i={};for(r in t)r==="__proto__"?Object.defineProperty(i,r,{value:f(t[r]),configurable:!0,enumerable:!0,writable:!0}):i[r]=f(t[r])}return i}if(e==="[object Array]"){for(r=t.length,i=Array(r);r--;)i[r]=f(t[r]);return i}return e==="[object Set]"?(i=new Set,t.forEach(function(n){i.add(f(n))}),i):e==="[object Map]"?(i=new Map,t.forEach(function(n,o){i.set(f(o),f(n))}),i):e==="[object Date]"?new Date(+t):e==="[object RegExp]"?(i=new RegExp(t.source,t.flags),i.lastIndex=t.lastIndex,i):e==="[object DataView]"?new t.constructor(f(t.buffer)):e==="[object ArrayBuffer]"?t.slice(0):e.slice(-6)==="Array]"?new t.constructor(t):t}const H={path:"/",watch:!0,decode:t=>U(decodeURIComponent(t)),encode:t=>encodeURIComponent(typeof t=="string"?t:JSON.stringify(t))},b=window.cookieStore;function V(t,r){var l;const i={...H,...r};i.filter??(i.filter=u=>u===t);const e=O(i)||{};let n;i.maxAge!==void 0?n=i.maxAge*1e3:i.expires&&(n=i.expires.getTime()-Date.now());const o=n!==void 0&&n<=0,a=o||e[t]===void 0||e[t]===null,s=f(o?void 0:e[t]??((l=i.default)==null?void 0:l.call(i))),c=n&&!o?X(s,n,i.watch&&i.watch!=="shallow"):z(s);{let u=null;try{!b&&typeof BroadcastChannel<"u"&&(u=new BroadcastChannel(`nuxt:cookies:${t}`))}catch{}const d=(p=!1)=>{!p&&(i.readonly||P(c.value,e[t]))||(Q(t,c.value,i),e[t]=f(c.value),u==null||u.postMessage({value:i.encode(c.value)}))},$=p=>{var y;const h=p.refresh?(y=O(i))==null?void 0:y[t]:i.decode(p.value);g=!0,c.value=h,e[t]=f(h),B(()=>{g=!1})};let g=!1;const j=!!D();if(j&&v(()=>{g=!0,d(),u==null||u.close()}),b){const p=h=>{const y=h.changed.find(S=>S.name===t),x=h.deleted.find(S=>S.name===t);y&&$({value:y.value}),x&&$({value:null})};b.addEventListener("change",p),j&&v(()=>b.removeEventListener("change",p))}else u&&(u.onmessage=({data:p})=>$(p));i.watch&&I(c,()=>{g||d()},{deep:i.watch!=="shallow"}),a&&d(a)}return c}function O(t={}){return L(document.cookie,t)}function q(t,r,i={}){return r==null?E(t,r,{...i,maxAge:-1}):E(t,r,i)}function Q(t,r,i={}){document.cookie=q(t,r,i)}const T=2147483647;function X(t,r,i){let e,n,o=0;const a=i?z(t):{value:t};return D()&&v(()=>{n==null||n(),clearTimeout(e)}),N((s,c)=>{i&&(n=I(a,c));function l(){o=0,clearTimeout(e);const u=r-o,d=u<T?u:T;e=setTimeout(()=>{if(o+=d,o<r)return l();a.value=void 0,c()},d)}return{get(){return s(),a.value},set(u){l(),a.value=u,c()}}})}function K(t,r,i=30){{const e=new Date;e.setTime(e.getTime()+i*24*60*60*1e3);const n=`expires=${e.toUTCString()}`;document.cookie=`${t}=${r}; ${n}; path=/; SameSite=Lax${location.protocol==="https:"?"; Secure":""}`}}function Z(t){document.cookie=`${t}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`}async function W(t,r){let i=`https://chat.xcodestudio.ir/api/${t}`;const e=await fetch(i,{method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json",Authorization:"Bearer "+V("token").value},body:JSON.stringify(r),mode:"cors"});if(!e.ok){const n=await e.json().catch(()=>null);throw{status:e.status,data:n}}return await e.json()}export{Z as d,W as p,K as s,V as u};
