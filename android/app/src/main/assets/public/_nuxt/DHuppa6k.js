import{_ as c}from"./BDV1AlzY.js";import{u as w,r as i,s as _,c as g,a as e,d as u,f as n,v as l,t as h,b as x,w as y,g as b,o as V}from"./CI--yoU-.js";import{p as k,s as p}from"./DSqpYqpb.js";import{u as B}from"./BhqzRmtz.js";import{S as d}from"./BQIkj5Wb.js";const S={class:"auth-form"},C={class:"form-group"},N={class:"form-group"},U={class:"form-group"},T={class:"form-group"},D=["disabled"],F={class:"auth-footer"},R={__name:"register",setup(L){const m=w(),r=i(!1),o=i({name:"",username:"",password:"",password_confirmation:""});B({title:"ثبت نلم در چت‌لند"}),_("login");const f=async()=>{r.value=!0;try{const t=await k("register",{name:o.value.name,username:o.value.username,password:o.value.password,password_confirmation:o.value.password_confirmation});t.user.hash&&(p("token",t.access_token,365),p("hash",t.user.hash,365),await d.fire({title:"ثبت نام موفق",text:`${t.user.name} عزیز خوش آمدید `,icon:"success",position:"top-end",toast:!0,showConfirmButton:!1,timer:3e3,timerProgressBar:!0,customClass:{popup:"small-swal"}}),await m.push("/"))}catch({data:t,status:s}){d.fire({icon:"error",title:` خطای${s}`,text:t.message,confirmButtonText:"متوجه شدم"})}finally{r.value=!1}};return(t,s)=>{const v=c;return V(),g("div",S,[s[6]||(s[6]=e("h2",null,[u("ورود در چت‌لند "),e("span",{style:{color:"#FF5555"}},"🚀")],-1)),s[7]||(s[7]=e("p",null,"مشخصات حساب کاربری خود را وارد کنید",-1)),e("form",{onSubmit:b(f,["prevent"])},[e("div",C,[n(e("input",{"onUpdate:modelValue":s[0]||(s[0]=a=>o.value.name=a),placeholder:"نام شما"},null,512),[[l,o.value.name]])]),e("div",N,[n(e("input",{"onUpdate:modelValue":s[1]||(s[1]=a=>o.value.username=a),placeholder:"نام کاربری"},null,512),[[l,o.value.username]])]),e("div",U,[n(e("input",{"onUpdate:modelValue":s[2]||(s[2]=a=>o.value.password=a),type:"password",placeholder:"رمز عبور"},null,512),[[l,o.value.password]])]),e("div",T,[n(e("input",{"onUpdate:modelValue":s[3]||(s[3]=a=>o.value.password_confirmation=a),type:"password",placeholder:"تکرار رمز عبور"},null,512),[[l,o.value.password_confirmation]])]),e("button",{type:"submit",disabled:r.value},h(r.value?"در حال ثبت...":"ثبت‌نام"),9,D),e("p",F,[s[5]||(s[5]=u(" قبلاً حساب دارید؟ ")),x(v,{to:"/login"},{default:y(()=>s[4]||(s[4]=[u("ورود")])),_:1,__:[4]})])],32)])}}};export{R as default};
