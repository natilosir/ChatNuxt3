import{_ as g}from"./BDV1AlzY.js";import{G as _,u as x,r as l,s as v,c as w,o as y,a as o,d as r,f as b,v as B,t as M,b as u,w as m,g as T}from"./CI--yoU-.js";import{p as S}from"./DSqpYqpb.js";import{u as h}from"./BhqzRmtz.js";import{S as i}from"./BQIkj5Wb.js";const N={class:"auth-form"},V={class:"form-group"},k=["disabled"],E={class:"auth-footer"},j={class:"auth-footer"},G=_({__name:"forgot-password",setup(A){const f=x(),a=l(!1),n=l({email:""});h({title:"فراموشی کلمه عبور"}),v("login");const p=s=>{const t=Object.values(s).flat()[0]||"خطایی رخ داده است";i.fire({icon:"error",title:"خطا",text:t,confirmButtonText:"متوجه شدم"})},d=async()=>{var s,e;a.value=!0;try{await S("password/forgot",{email:n.value.email}),await i.fire({icon:"success",title:"ارسال موفق",text:"لینک بازیابی رمز عبور به ایمیل شما ارسال شد",confirmButtonText:"متوجه شدم",timer:3e3}),await f.push("/login")}catch(t){console.log(t),(s=t.response)!=null&&s.data?typeof t.response.data=="object"&&!Array.isArray(t.response.data)?p(t.response.data):i.fire({icon:"error",title:"خطا",text:((e=t.response.data)==null?void 0:e.message)||t.message||"خطایی در ارسال لینک بازیابی رخ داده است",confirmButtonText:"متوجه شدم"}):i.fire({icon:"error",title:"خطا",text:t.message||"خطایی در ارسال لینک بازیابی رخ داده است",confirmButtonText:"متوجه شدم"})}finally{a.value=!1}};return(s,e)=>{const t=g;return y(),w("div",N,[e[5]||(e[5]=o("h2",null,[r("بازیابی رمز عبور "),o("span",{style:{color:"#FF5555"}},"🔑")],-1)),e[6]||(e[6]=o("p",null,"اطلاعات حساب خود را برای بازیابی رمز عبور وارد کنید",-1)),o("form",{onSubmit:T(d,["prevent"])},[o("div",V,[b(o("input",{"onUpdate:modelValue":e[0]||(e[0]=c=>n.value.email=c),type:"email",placeholder:"ایمیل شما",required:""},null,512),[[B,n.value.email]])]),o("button",{type:"submit",disabled:a.value},M(a.value?"در حال ارسال...":"ارسال لینک بازیابی"),9,k),o("p",E,[e[2]||(e[2]=r(" به یاد آوردید؟ ")),u(t,{to:"/login"},{default:m(()=>e[1]||(e[1]=[r("ورود به حساب")])),_:1,__:[1]})]),o("p",j,[e[4]||(e[4]=r(" حساب ندارید؟ ")),u(t,{to:"/register"},{default:m(()=>e[3]||(e[3]=[r("ثبت‌نام")])),_:1,__:[3]})])],32)])}}});export{G as default};
